# Анализ требований и подготовка архитектурному решению
Кривопиша Сергей

Курс Software Architect

## Задача
В качестве кейса выбрана одна из архитектурных ката Нила Форда, а именно Room with a View: https://nealford.com/katas/kata?id=RoomWithAView

Необходимо провести анализ требований и описать составляющие архитектурного решения.

**Room with a View**\
A large hotel reservation company wants to build the next generation hotel reservation and management system specifically tailored to high-end resorts and spas where guests can view and reserve specific rooms.

- Users: Guests (hundreds), hotel staff (less than 20)
- Requirements:
  - Registration can be made via web, mobile, phone call, or walk-in.
  - Guests have the ability to either book a type of room (standard, deluxe, or suite) or choose a specific room to stay in by viewing pictures of each room and its location in the hotel.
  - The system must be able to maintain room status (booked, available, ready to clean, etc.) as well as when the room will be needed next.
  - It must also have state-of-the-art housekeeping management functionality so that cleaning and maintenance staff can be directed to various rooms based on priority and reservation need using proprietary devices supplied by the reservation company attached to the cleaning carts.
  - Standard reservation functionality (e.g., payments, registration info, etc.) will be done by leveraging the existing reservations system.
  - The system will be web-based and hosted by the reservation company.
- Additional Context:
  - 'Peak season is quickly approaching, so the system must be ready quickly or we have to wait until next year!'
  - Company is also investing heavily in cutting edge technology like smart room locks that open via a cell phone
  - Only interested in the high-end market
  - Sales people have tremendous clout in the organization; people often scramble to make their promises true

## Бизнес-контекст
Компания — крупный поставщик услуг по бронированию, стремящийся выйти на рынок премиум-класса, предлагая услуги для элитных курортов и спа-центров. Новый продукт, система бронирования и управления номерами, будет ориентирован на улучшение пользовательского опыта, предоставляя гостям удобный способ выбора номеров и усовершенствованные возможности для управления ресурсами отеля.

Конкурентные преимущества: вкладывает значительные средства в передовые технологии для создания уникального опыта и повышенного уровня безопасности и удобства для гостей. Кроме того, компания стремится оптимизировать внутренние процессы отелей, что важно для обеспечения качественного обслуживания.

Сроки: Система должна быть запущена до начала пикового сезона.

![image](https://github.com/user-attachments/assets/e18afad1-7bbe-4f43-bcea-b63650af4d39)

## Бизнес-цели и бизнес-драйверы
**Бизнес-драйверы**
- Привлечение и удержание клиентов премиум-класса
- Инвестиции в передовые технологии как ключевой фактор дифференциации от конкурентов
- Снижение издержек и повышение эффективности благодаря улучшенной координации действий персонала, а так же интеграции с существующей системой бронирования
- Система должна быть готова к пиковому сезону

**Бизнес-цель**

В короткие сроки разработать систему бронирования и управления номерами для самых требовательных элитных клиентов. Конкурентными преимуществами должны стать обеспечение высокого сервиса, интеграция с инновационными технологии для оптимизации обслуживания.

## Стейкхолдеры и их потребности
**Гости**\
Регистрация, просмотр и бронирование номеров, выбор конкретных номеров, доступность и удобство использования системы, безопасность.

**Обслуживающий персонал**\
Уборка и обслуживание. Доступ к информации о статусах номеров, направления в приоритетные комнаты.

**Администраторы**\
Контроль статусов номеров, управление бронированием. Доступ к информации для оперативной помощи клиентам. Управление обслуживающим персоналом.

**Компания по бронированию (заказчик)**\
Аналитика, поддержка клиентов, интеграция с существующей системой бронирования

## Пользовательские истории
- Как гость, я хочу зарегистрироваться через веб-сайт, мобильный телефон, по телефону или лично, чтобы я мог легко забронировать номер.
- Как гость, я хочу просматривать фотографии и расположение номеров, чтобы я мог выбрать наиболее подходящий для меня номер.
- Как гость, я хочу использовать мобильное устройство для доступа к номеру, чтобы я мог легко и безопасно войти в свой номер.
- Как персонал отеля, я хочу использовать фирменные устройства для управления процессом уборки, чтобы я мог быстро и эффективно обслуживать номера.
- Как персонал отеля, я хочу видеть, какие номера необходимо убрать в первую очередь, чтобы оперативно готовить номера к заселению.
- Как администратор, я хочу отслеживать и управлять бронированиями, статусами номеров и получать уведомления о важных изменениях.

![image](https://github.com/user-attachments/assets/94b0eee9-a8ac-4680-8f66-a9ef1be98c84)

## Атрибуты качества (и не функциональные требования)
- Надежность: система должна обеспечивать бесперебойный доступ к информации о номерах и статусах бронирования
- Безопасность: защита данных гостей, поддержка современных методов аутентификации для мобильных устройств
- Масштабируемость: возможность поддерживать высокую загрузку в пиковые периоды
- Совместимость: поддержка мобильных устройств, интеграция с существующей системой бронирования, а так же с интеграция с умными системами
- Удобство использования: система должна быть интуитивно понятной для гостей и персонала отеля

## Критические сценарии и характеристики
**Критические сценарии**
- регистрация клиента
- бронирование номера клиентом
- управление статусом номеров Администратором
- управление процессом уборки

**Критические характеристики:**
- время разработки (time to market)
- безопасность: персональные данные клиентов должны быть надежно защищены
- доступность сервисов
- совместимость: интеграция с умными системами

## Архитектурные решения
### ADR 1: Выбор архитектуры для системы бронирования и управления номерами
**Контекст**\
Система должна поддерживать высокую масштабируемость и гибкость для управления большим количеством пользователей и частыми изменениями функциональности. Поскольку система ориентирована на премиум-сегмент и интегрируется с новыми технологиями (например, умными замками), она требует надежной и масштабируемой архитектуры.

**Альтернативы**\
Монолитная архитектура: могла бы быть проще в разработке, но сложна для масштабирования и адаптации к новым требованиям.
Сервис-ориентированная архитектура (SOA): представляет собой гибкий подход, но интеграция и взаимодействие сервисов могут быть менее эффективными и сложными в управлении.

**Решение**\
Реализовать систему на основе микросервисной архитектуры, где ключевые компоненты (бронирование, управление номерами, уведомления, управление замками) будут отдельными сервисами. Микросервисная архитектура позволит масштабировать и обновлять каждый сервис независимо, упрощая поддержку и возможность внедрения новых функций.

**Последствия**\
Положительные: Каждый сервис можно развивать и тестировать независимо, система будет гибкой и легко масштабируемой, а также поддерживать высокую производительность.
Отрицательные: Микросервисная архитектура увеличивает сложность разработки и требует эффективной системы мониторинга и оркестрации для управления большим количеством сервисов.

**Риски и компромиссы**\
Риск состоит в увеличении затрат на разработку и поддержание инфраструктуры, однако гибкость и масштабируемость компенсируют эти затраты, особенно в условиях высокой нагрузки в сезон.

### ADR 2: Интеграция с системой интеллектуальных замков для доступа в номера через мобильные устройства

**Контекст**\
Отель использует умные замки, которые позволяют гостям открывать номера с помощью мобильных телефонов, что улучшает удобство и безопасность. Система бронирования должна интегрироваться с системой замков, чтобы автоматизировать процесс создания виртуальных ключей для доступа в номер сразу после бронирования.

**Альтернативы**\
Физические ключи или карты: традиционные методы, но они создают неудобства и не соответствуют уровню премиум-обслуживания, к которому стремится компания.
Виртуальные ключи по запросу: позволят гостям получить ключ при регистрации на стойке отеля, однако это менее удобно для гостей, которые хотят избежать визитов к стойке регистрации.

**Решение**\
Интеграция системы бронирования с API поставщика интеллектуальных замков, что позволит автоматически создавать и отправлять виртуальные ключи гостям после завершения бронирования.

**Последствия**\
Положительные: Гости получают бесконтактный доступ к номерам сразу после бронирования, что повышает их комфорт и ощущение безопасности. Отель минимизирует нагрузку на персонал на стойке регистрации.
Отрицательные: Потребуется дополнительная интеграция с системой замков, а также повышенные меры безопасности данных.

**Риски и компромиссы**\
Интеграция создает риски безопасности (например, доступ к API замков), что требует усиленной защиты данных. Однако данное решение усиливает конкурентное преимущество компании и соответствует высоким стандартам премиум-обслуживания.

